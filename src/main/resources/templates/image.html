<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>이미지 업로드 및 관리</title>
    <style>
        img {
            max-width: 500px;
            max-height: 300px;
            margin-top: 10px;
        }
        .image-container {
            margin-bottom: 20px;
        }
        .status-message {
            color: red;
            font-size: 16px;
        }
    </style>
</head>
<body>
<h1>여러 이미지 업로드 및 관리</h1>
<form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="images" multiple="multiple" required>
    <button type="submit">이미지 업로드</button>
</form>

<!-- 상태 메시지 표시 -->
<div th:if="${status}" class="status-message">
    <p th:text="${status == 'deleted' ? '이미지가 성공적으로 삭제되었습니다.' : status == 'added' ? '이미지가 성공적으로 추가되었습니다.' : '이미지 처리 중 오류가 발생했습니다.'}"></p>
</div>

<div id="image-display">
    <div th:each="imageUrl, iterStat : ${imageUrls}" class="image-container">
        <a th:href="${imageUrl}" target="_blank" th:text="${imageUrl}"></a>
        <img th:src="${imageUrl}" alt="Uploaded Image">
        <form action="/delete" method="post">
            <input type="hidden" name="url" th:value="${imageUrl}" />
            <button type="submit">이미지 삭제</button>
        </form>
    </div>
</div>
</body>
</html>
